(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{25016:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var r=s(2821),a=s(75889);function o(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},28171:(e,t,s)=>{"use strict";s.d(t,{dj:()=>m});var r=s(12115);let a=0,o=new Map,l=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=[],n={toasts:[]};function c(e){n=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?l(s):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(n,e),i.forEach(e=>{e(n)})}function d(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,t]=r.useState(n);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},33789:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var r=s(95155),a=s(12115),o=s(25016);let l=a.forwardRef((e,t)=>{let{className:s,type:a,...l}=e;return(0,r.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...l})});l.displayName="Input"},54679:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>p,L3:()=>f,c7:()=>h,lG:()=>n,rr:()=>x,zM:()=>c});var r=s(95155),a=s(12115),o=s(89511),l=s(65229),i=s(25016);let n=o.bL,c=o.l9,d=o.ZL;o.bm;let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...a})});m.displayName=o.hJ.displayName;let u=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(o.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n,children:[a,(0,r.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=o.UC.displayName;let h=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};h.displayName="DialogHeader";let p=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="DialogFooter";let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...a})});f.displayName=o.hE.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...a})});x.displayName=o.VY.displayName},57033:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var r=s(95155),a=s(20063),o=s(22544),l=s(66942),i=s(72377),n=s(97003),c=s(33789),d=s(83209),m=s(12115),u=s(32467),h=s(25016),p=s(90235);let f=o.Op,x=m.createContext({}),g=e=>{let{...t}=e;return(0,r.jsx)(x.Provider,{value:{name:t.name},children:(0,r.jsx)(o.xI,{...t})})},b=()=>{let e=m.useContext(x),t=m.useContext(j),{getFieldState:s,formState:r}=(0,o.xW)(),a=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},j=m.createContext({}),y=m.forwardRef((e,t)=>{let{className:s,...a}=e,o=m.useId();return(0,r.jsx)(j.Provider,{value:{id:o},children:(0,r.jsx)("div",{ref:t,className:(0,h.cn)("space-y-2",s),...a})})});y.displayName="FormItem";let v=m.forwardRef((e,t)=>{let{className:s,...a}=e,{error:o,formItemId:l}=b();return(0,r.jsx)(p.J,{ref:t,className:(0,h.cn)(o&&"text-destructive",s),htmlFor:l,...a})});v.displayName="FormLabel";let w=m.forwardRef((e,t)=>{let{...s}=e,{error:a,formItemId:o,formDescriptionId:l,formMessageId:i}=b();return(0,r.jsx)(u.DX,{ref:t,id:o,"aria-describedby":a?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!a,...s})});w.displayName="FormControl",m.forwardRef((e,t)=>{let{className:s,...a}=e,{formDescriptionId:o}=b();return(0,r.jsx)("p",{ref:t,id:o,className:(0,h.cn)("text-sm text-muted-foreground",s),...a})}).displayName="FormDescription";let N=m.forwardRef((e,t)=>{var s;let{className:a,children:o,...l}=e,{error:i,formMessageId:n}=b(),c=i?String(null!=(s=null==i?void 0:i.message)?s:""):o;return c?(0,r.jsx)("p",{ref:t,id:n,className:(0,h.cn)("text-sm font-medium text-destructive",a),...l,children:c}):null});N.displayName="FormMessage";var S=s(90923),I=s(28171),D=s(79943),C=s(54679),k=s(67001),A=s(85871),E=s(91169),T=s(46701),R=s(26983),O=s(76907),F=s(29633),P=s(56154),L=s(39926),M=s(99708),_=s(11010),z=s(24722),Y=s(13396),J=s(23327),U=s(14005),$=s(52619),B=s.n($);let V=i.Ik({schoolName:i.Yj().optional(),schoolID:i.Yj().min(1,{message:"School ID is required."}),password:i.Yj().optional()}),W=i.Ik({schoolId:i.Yj().optional(),subject:i.Yj().min(1,{message:"Subject is required."}),message:i.Yj().min(10,{message:"Message must be at least 10 characters long."})});function Z(){let e=(0,a.useRouter)(),{toast:t}=(0,I.dj)(),{login:s,signup:i,schoolId:u,isAdmin:x,loginAdmin:b,isLoading:j,getAdminCredentials:$,getSchools:Z}=(0,D.A)(),[q,H]=(0,m.useState)("signin"),[X,G]=(0,m.useState)(""),[Q,K]=(0,m.useState)(!1),[ee,et]=(0,m.useState)(""),[es,er]=(0,m.useState)(!1),[ea,eo]=(0,m.useState)("30");(0,m.useEffect)(()=>{G($().id),eo(localStorage.getItem("trialPeriodDays")||"30")},[$]);let el=(0,o.mN)({resolver:(0,l.u)(V),defaultValues:{schoolName:"",schoolID:"",password:""}}),ei=(0,o.mN)({resolver:(0,l.u)(W),defaultValues:{schoolId:"",subject:"",message:""}});if((0,m.useEffect)(()=>{!j&&(x?e.push("/admin/dashboard"):u&&e.push("/dashboard"))},[u,x,e,j]),j||u||x)return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,r.jsx)("p",{children:"Loading..."})});let en=[{icon:(0,r.jsx)(A.A,{className:"w-6 h-6 text-primary"}),title:"Conflict-Free Timetable",description:"Intelligent algorithm ensures no teacher or class is double-booked."},{icon:(0,r.jsx)(E.A,{className:"w-6 h-6 text-primary"}),title:"Easy Data Management",description:"Manage teachers, subjects, and classes with a simple, intuitive interface."},{icon:(0,r.jsx)(T.A,{className:"w-6 h-6 text-primary"}),title:"Simple Data Upload",description:"Quickly upload teacher data using our pre-formatted Excel template."},{icon:(0,r.jsx)(R.A,{className:"w-6 h-6 text-primary"}),title:"Flexible Scheduling",description:"Customize periods, working days, and break times to fit your school's needs."},{icon:(0,r.jsx)(O.A,{className:"w-6 h-6 text-primary"}),title:"Secure & Private",description:"All your data is stored securely in your browser, not on our servers."},{icon:(0,r.jsx)(F.A,{className:"w-6 h-6 text-primary"}),title:"Daily Arrangement",description:"Handle substitutions for absent teachers with an interactive interface."}],ec=[{icon:(0,r.jsx)(P.A,{className:"w-8 h-8 text-primary"}),title:"Fast & Efficient",description:"Our powerful algorithm generates complex timetables in seconds, saving you hours of manual work."},{icon:(0,r.jsx)(L.A,{className:"w-8 h-8 text-primary"}),title:"Fully Customizable",description:"Adapt every aspect of the schedule, from period timings to working days, to fit your school's unique needs."},{icon:(0,r.jsx)(M.A,{className:"w-8 h-8 text-primary"}),title:"Offline & Secure",description:"Works entirely in your browser. Your data stays on your computer, ensuring complete privacy and security."},{icon:(0,r.jsx)(_.A,{className:"w-8 h-8 text-primary"}),title:"Editable Timetable",description:"After generation, you can manually fine-tune and edit the timetable to make perfect adjustments."},{icon:(0,r.jsx)(z.A,{className:"w-8 h-8 text-primary"}),title:"Export Options",description:"Easily export your final timetables to both PDF and Excel formats for printing and sharing."}];return(0,r.jsxs)("div",{className:"w-full bg-background text-foreground flex flex-col min-h-screen",children:[(0,r.jsxs)("main",{className:"flex-grow w-full flex flex-col items-center justify-center p-4",children:[(0,r.jsxs)("div",{className:"w-full max-w-6xl mx-auto flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12 relative",children:[(0,r.jsxs)("div",{className:"w-full lg:w-1/2 lg:pr-8",children:[(0,r.jsxs)("div",{className:"text-center lg:text-left mb-8 lg:mb-10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center lg:justify-start gap-4 mb-4",children:[(0,r.jsx)(Y.A,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary"}),(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold",children:"Time-Table Manager"})]}),(0,r.jsx)("p",{className:"text-base sm:text-lg text-muted-foreground",children:"The smart, simple, and secure way to build conflict-free school schedules."})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:en.map(e=>(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"flex-shrink-0 bg-primary/10 p-3 rounded-full",children:e.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.title))})]}),(0,r.jsx)("div",{className:"w-full max-w-md lg:w-1/2 mt-8 lg:mt-0",children:(0,r.jsxs)(d.Zp,{className:"w-full bg-card backdrop-blur-sm",style:{boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.05)"},children:[(0,r.jsxs)(d.aR,{className:"text-center pb-4",children:[(0,r.jsx)(d.ZB,{className:"text-2xl sm:text-3xl font-bold",children:"Welcome Back!"}),(0,r.jsx)(d.BT,{className:"pt-1",children:"Select an option to continue"})]}),(0,r.jsx)(d.Wu,{children:(0,r.jsxs)(S.tU,{defaultValue:"signin",className:"w-full",onValueChange:H,children:[(0,r.jsxs)(S.j7,{className:"grid w-full grid-cols-2 bg-muted/70 rounded-lg p-1 mx-auto mb-4",style:{boxShadow:"inset 0 2px 4px rgba(0,0,0,0.1)"},children:[(0,r.jsx)(S.Xi,{value:"signin",className:"data-[state=active]:bg-card data-[state=active]:text-primary data-[state=active]:shadow-md rounded-md transition-all duration-300 py-1.5 font-semibold",style:"signin"===q?{transform:"translateY(-1px)",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}:{},children:"Sign In"}),(0,r.jsx)(S.Xi,{value:"signup",className:"data-[state=active]:bg-card data-[state=active]:text-primary data-[state=active]:shadow-md rounded-md transition-all duration-300 py-1.5 font-semibold",style:"signup"===q?{transform:"translateY(-1px)",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}:{},children:"Sign Up"})]}),(0,r.jsx)(S.av,{value:"signin",children:(0,r.jsx)(f,{...el,children:(0,r.jsxs)("form",{onSubmit:el.handleSubmit(r=>{var a;let o=r.schoolID.trim(),l=(null==(a=r.password)?void 0:a.trim())||"";if(o.toLowerCase()===X.toLowerCase()&&X){try{b(l),t({title:"Admin login successful!",description:"Welcome, Administrator!"}),e.push("/admin/dashboard")}catch(e){t({title:"Admin Login Failed",description:e.message,variant:"destructive"})}return}try{let r=s(o);t({title:"Login successful!",description:"Welcome back, ".concat(r,"!")}),e.push("/dashboard")}catch(e){t({title:"Login Failed",description:e.message,variant:"destructive"})}}),className:"space-y-4 pt-4",children:[(0,r.jsx)(g,{control:el.control,name:"schoolID",render:e=>{let{field:t}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(v,{children:"School or Admin ID"}),(0,r.jsx)(w,{children:(0,r.jsx)(c.p,{placeholder:"Enter School or Admin ID",...t,onChange:e=>t.onChange(e.target.value)})}),(0,r.jsx)(N,{})]})}}),(0,r.jsx)(g,{control:el.control,name:"password",render:e=>{let{field:t}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(v,{children:"Password"}),(0,r.jsx)(w,{children:(0,r.jsx)(c.p,{type:"password",placeholder:"Enter password",...t})}),(0,r.jsx)(N,{})]})}}),(0,r.jsxs)("div",{className:"space-y-2 pt-2",children:[(0,r.jsx)(n.$,{type:"submit",className:(0,h.cn)("w-full btn-3d"),size:"lg",children:"Sign In"}),(0,r.jsx)(n.$,{type:"button",variant:"link",className:"w-full text-primary",onClick:()=>K(!0),children:"Renew Subscription"})]})]})})}),(0,r.jsx)(S.av,{value:"signup",children:(0,r.jsx)(f,{...el,children:(0,r.jsxs)("form",{onSubmit:el.handleSubmit(s=>{try{if(!s.schoolName||""===s.schoolName.trim())return void el.setError("schoolName",{type:"manual",message:"School name is required for signup."});i(s.schoolName.trim(),s.schoolID.trim()),t({title:"Signup successful!",description:"Welcome, ".concat(s.schoolName.trim(),"! Your ").concat(ea,"-day free trial has started.")}),e.push("/dashboard")}catch(e){t({title:"Signup Failed",description:e.message,variant:"destructive"})}}),className:"space-y-4 pt-4",children:[(0,r.jsx)(g,{control:el.control,name:"schoolName",render:e=>{let{field:t}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(v,{children:"School Name"}),(0,r.jsx)(w,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Northwood High",...t})}),(0,r.jsx)(N,{})]})}}),(0,r.jsx)(g,{control:el.control,name:"schoolID",render:e=>{let{field:t}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(v,{children:"Create a School ID"}),(0,r.jsx)(w,{children:(0,r.jsx)(c.p,{placeholder:"e.g., NH-12345",...t,onChange:e=>t.onChange(e.target.value.trim())})}),(0,r.jsx)(N,{})]})}}),(0,r.jsx)("div",{className:"pt-2",children:(0,r.jsx)(n.$,{type:"submit",className:(0,h.cn)("w-full btn-3d"),size:"lg",children:"Sign Up For Free Trial"})})]})})})]})})]})})]}),(0,r.jsxs)("section",{className:"w-full max-w-6xl mx-auto mt-16 lg:mt-24",children:[(0,r.jsxs)("div",{className:"text-center mb-10",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold",children:"Why Choose Our Timetable Manager?"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Everything you need for seamless school scheduling, all in one place."})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:ec.slice(0,3).map(e=>(0,r.jsxs)(d.Zp,{className:"text-center p-6",children:[(0,r.jsx)("div",{className:"flex justify-center items-center mb-4 bg-primary/10 rounded-full w-16 h-16 mx-auto",children:e.icon}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.title}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.description})]},e.title))}),ec.length>3&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:ec.slice(3).map(e=>(0,r.jsxs)(d.Zp,{className:"text-center p-6",children:[(0,r.jsx)("div",{className:"flex justify-center items-center mb-4 bg-primary/10 rounded-full w-16 h-16 mx-auto",children:e.icon}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.title}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.description})]},e.title))})]}),(0,r.jsx)(n.$,{asChild:!0,variant:"outline",className:"fixed bottom-4 left-4 z-50 rounded-full h-12 shadow-lg flex items-center gap-2 px-4",children:(0,r.jsxs)(B(),{href:"/about",children:[(0,r.jsx)(J.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"",children:"About"})]})}),(0,r.jsxs)(C.lG,{open:es,onOpenChange:er,children:[(0,r.jsx)(C.zM,{asChild:!0,children:(0,r.jsxs)(n.$,{variant:"outline",className:"fixed bottom-4 right-4 z-50 rounded-full h-12 shadow-lg flex items-center gap-2 px-4",children:[(0,r.jsx)(U.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"",children:"Support"})]})}),(0,r.jsxs)(C.Cf,{children:[(0,r.jsxs)(C.c7,{children:[(0,r.jsx)(C.L3,{children:"Contact Support"}),(0,r.jsx)(C.rr,{children:"Have a question, feedback, or a complaint? Let us know."})]}),(0,r.jsx)(f,{...ei,children:(0,r.jsxs)("form",{onSubmit:ei.handleSubmit(e=>{try{let s=JSON.parse(localStorage.getItem("supportMessages")||"[]"),r={...e,timestamp:new Date().toISOString(),id:"support-".concat(Date.now())};s.unshift(r),localStorage.setItem("supportMessages",JSON.stringify(s)),t({title:"Message Sent!",description:"Thank you for your feedback. The admin will review your message shortly."}),er(!1),ei.reset()}catch(e){t({title:"Failed to send message",description:"There was an error storing your message. Please try again.",variant:"destructive"})}}),className:"space-y-4",children:[(0,r.jsx)(g,{control:ei.control,name:"schoolId",render:e=>{let{field:t}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(v,{children:"School ID (Optional)"}),(0,r.jsx)(w,{children:(0,r.jsx)(c.p,{placeholder:"Enter your School ID if applicable",...t})}),(0,r.jsx)(N,{})]})}}),(0,r.jsx)(g,{control:ei.control,name:"subject",render:e=>{let{field:t}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(v,{children:"Subject"}),(0,r.jsx)(w,{children:(0,r.jsx)(c.p,{placeholder:"e.g., Feedback on Timetable Generation",...t})}),(0,r.jsx)(N,{})]})}}),(0,r.jsx)(g,{control:ei.control,name:"message",render:e=>{let{field:t}=e;return(0,r.jsxs)(y,{children:[(0,r.jsx)(v,{children:"Your Message"}),(0,r.jsx)(w,{children:(0,r.jsx)(k.T,{placeholder:"Please describe your issue or feedback in detail.",...t,rows:5})}),(0,r.jsx)(N,{})]})}}),(0,r.jsx)(C.Es,{children:(0,r.jsx)(n.$,{type:"submit",children:"Submit Message"})})]})})]})]}),(0,r.jsx)(C.lG,{open:Q,onOpenChange:K,children:(0,r.jsxs)(C.Cf,{children:[(0,r.jsxs)(C.c7,{children:[(0,r.jsx)(C.L3,{children:"Renew Subscription"}),(0,r.jsx)(C.rr,{children:"Please enter your School ID to proceed to the renewal page."})]}),(0,r.jsx)("div",{className:"grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(p.J,{htmlFor:"renewalId",children:"School ID"}),(0,r.jsx)(c.p,{id:"renewalId",placeholder:"Enter your School ID",value:ee,onChange:e=>et(e.target.value)})]})}),(0,r.jsxs)(C.Es,{children:[(0,r.jsx)(n.$,{variant:"outline",onClick:()=>K(!1),children:"Cancel"}),(0,r.jsx)(n.$,{onClick:()=>{let s=ee.trim();if(!s)return void t({title:"School ID is required",description:"Please enter the School ID to renew.",variant:"destructive"});if(!Z().some(e=>e.id.toLowerCase()===s.toLowerCase()))return void t({title:"School ID not found",description:"Please check the ID and try again.",variant:"destructive"});try{localStorage.setItem("schoolIDForRenewal",s),K(!1),e.push("/subscribe")}catch(e){t({title:"An error occurred",description:"Could not prepare for subscription renewal.",variant:"destructive"})}},children:"Proceed to Renew"})]})]})})]}),(0,r.jsx)("footer",{className:"w-full text-center py-4 px-4 flex justify-center items-center gap-4",children:(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["App Developed By",(0,r.jsx)("a",{href:"https://www.linkedin.com/in/surender-sharma-7a9187175",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-primary hover:underline ml-1",children:"Surender Sharma"})]})})]})}},67001:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var r=s(95155),a=s(12115),o=s(25016);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});l.displayName="Textarea"},76955:(e,t,s)=>{Promise.resolve().then(s.bind(s,57033))},79943:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,AuthProvider:()=>c});var r=s(95155),a=s(12115),o=s(20063),l=s(92381);let i=(0,a.createContext)(void 0),n=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:t}=e,[s,n]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!0),f=(0,o.useRouter)(),x=(0,a.useCallback)(()=>{try{let e=localStorage.getItem("adminCredentials");if(e)return JSON.parse(e)}catch(e){console.error("Could not access localStorage for admin credentials",e)}return{id:"admin",password:"admin"}},[]),g=(0,a.useCallback)(e=>{try{localStorage.setItem("adminCredentials",JSON.stringify(e))}catch(e){console.error("Could not set admin credentials in localStorage",e)}},[]),b=(0,a.useCallback)(()=>{try{let e=localStorage.getItem("registeredSchools");return e?JSON.parse(e):[]}catch(e){return console.error("Could not access localStorage",e),[]}},[]),j=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e||(localStorage.removeItem("schoolID"),localStorage.removeItem("schoolIDForRenewal")),localStorage.removeItem("schoolName"),localStorage.removeItem("isAdmin")}catch(e){console.error("Could not access localStorage",e)}n(null),d(null),u(!1),p(!1),f.push("/")},[f]);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("isAdmin");if("true"===e){u(!0),p(!1);return}let t=localStorage.getItem("schoolID");if(t){let e=b().find(e=>e.id===t);if(e){let t=new Date,s=e.subscriptionEndDate&&new Date(e.subscriptionEndDate)>=t,r=parseInt(localStorage.getItem("trialPeriodDays")||"30",10),a=e.signupDate&&(0,l.f)(new Date(e.signupDate),r)>=t;s||a?(n(e.id),d(e.name)):j(!0)}else j()}}catch(e){console.error("Could not access localStorage",e)}p(!1)},[b,j]);let y=(0,a.useCallback)(e=>{try{localStorage.setItem("registeredSchools",JSON.stringify(e))}catch(e){console.error("Could not access localStorage",e)}},[]),v=(0,a.useCallback)(e=>{try{let t=localStorage.getItem("loginLogs"),s=t?JSON.parse(t):[],r=[{schoolId:e.id,schoolName:e.name,timestamp:new Date().toISOString()},...s].slice(0,100);localStorage.setItem("loginLogs",JSON.stringify(r))}catch(e){console.error("Could not write to login logs",e)}},[]);return(0,r.jsx)(i.Provider,{value:{schoolId:s,schoolName:c,isAdmin:m,isLoading:h,login:e=>{let t=b().find(t=>t.id.toLowerCase()===e.toLowerCase());if(!t)throw Error("No school found with this ID. Please check the ID or sign up.");let s=new Date,r=t.subscriptionEndDate&&new Date(t.subscriptionEndDate)>=s,a=parseInt(localStorage.getItem("trialPeriodDays")||"30",10),o=t.signupDate&&(0,l.f)(new Date(t.signupDate),a)>=s;if(!r&&!o){let e=t.signupDate?"Your ".concat(a,"-day free trial has expired."):"Your subscription has expired.";throw localStorage.setItem("schoolIDForRenewal",t.id),f.push("/subscribe"),Error("".concat(e," Please renew your subscription."))}try{localStorage.setItem("schoolID",t.id),localStorage.setItem("schoolName",t.name),localStorage.removeItem("schoolIDForRenewal"),v(t)}catch(e){throw Error("Could not save session. Please enable cookies/localStorage.")}return n(t.id),d(t.name),u(!1),localStorage.removeItem("isAdmin"),t.name},signup:(e,t)=>{let s=b();if(s.some(e=>e.id.toLowerCase()===t.toLowerCase()))throw Error("This School ID is already taken. Please choose another one.");let r=x();if(t.toLowerCase()===r.id.toLowerCase())throw Error("The ID '".concat(r.id,"' is reserved."));y([...s,{name:e,id:t,signupDate:new Date().toISOString()}]);try{localStorage.setItem("schoolID",t),localStorage.setItem("schoolName",e)}catch(e){throw Error("Could not save session. Please enable cookies/localStorage.")}n(t),d(e),u(!1),localStorage.removeItem("isAdmin")},logout:j,loginAdmin:e=>{if(e!==x().password)throw Error("Incorrect password for admin.");try{localStorage.setItem("isAdmin","true"),localStorage.removeItem("schoolID"),localStorage.removeItem("schoolName")}catch(e){throw Error("Could not save admin session.")}u(!0),n(null),d(null)},getSchools:b,setSchools:y,addLoginLog:v,getAdminCredentials:x,setAdminCredentials:g},children:t})}},83209:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>n,Zp:()=>l,aR:()=>i});var r=s(95155),a=s(12115),o=s(25016);let l=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",s),...a})});i.displayName="CardHeader";let n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})});n.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",s),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter"},90235:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(95155),a=s(12115),o=s(10489),l=s(83101),i=s(25016);let n=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.b,{ref:t,className:(0,i.cn)(n(),s),...a})});c.displayName=o.b.displayName},90923:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>c,av:()=>d,j7:()=>n,tU:()=>i});var r=s(95155),a=s(12115),o=s(25667),l=s(25016);let i=o.bL,n=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...a})});n.displayName=o.B8.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...a})});c.displayName=o.l9.displayName;let d=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(o.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});d.displayName=o.UC.displayName},97003:(e,t,s)=>{"use strict";s.d(t,{$:()=>c,r:()=>n});var r=s(95155),a=s(12115),o=s(32467),l=s(83101),i=s(25016);let n=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:c=!1,...d}=e,m=c?o.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(n({variant:a,size:l,className:s})),ref:t,...d})});c.displayName="Button"}},e=>{e.O(0,[545,619,431,229,972,482,513,441,255,358],()=>e(e.s=76955)),_N_E=e.O()}]);